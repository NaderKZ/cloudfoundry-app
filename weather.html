<!-- This is a smiple weather forecast app where a user can enter a name of a city and get the current temperature of that city 
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
 
    <title>Weather Forecast</title>
    
</head>
<body>
	
	<!-- This creates a header with text in it before the button -->	
	<div class="d-flex justify-content-center"  style= "padding-top: 8%;">
	<h1>
		Cities Weather Forecast
	</h1>
	</div>
	
	
	<!-- This centers the input field horizontally -->
	<div class="mx-auto"  style= "padding-top: 8%; width:fit-content;">
		<div class="input-group mb-3">	
			<!-- This creates the input field and assigns it a uniques ID-->
			<input type="text" class="form-control" placeholder="City" aria-label="City" aria-describedby="button-addon2" id="location" name="location" required>
			<!-- This creates the button to trigger the API call -->
			<button class="btn btn-primary mb-2" type="button" id="button-addon2" onclick="myfunction()">Go</button>
		</div>
	</div>
	
	<!-- The following is the Javascript function responsible for making the API call and displaying the results on the application page-->
	<script>
		
		function myfunction() {
		
			document.getElementById("location").onfocus= function() {document.getElementById("location").value=""};
			var xhttp = new XMLHttpRequest();
			xhttp.onreadystatechange = function() {
				if (this.readyState == 4 && this.status == 200) {
					var jsonobject = JSON.parse(this.responseText);
					var temp = jsonobject.main["temp"];
					document.getElementById("demo").innerHTML = "It is: " + Math.round(temp) + " Celsius";
					<!--console.log(this.responseText)
				}
				else{
					document.getElementById("demo").innerHTML = "Please enter a valid city name and check the spelling";
					
				}
			};
			var loc = document.getElementById("location").value;
			<!--console.log(loc)
			xhttp.open("GET", "https://api.openweathermap.org/data/2.5/weather?q="+loc+"&units=metric&APPID=a9b52b6d3cfdd22bee46db1dba09f85e", true);
			xhttp.send();			
		}
		
	</script>
	
	<!-- This is a placeholder where the answer from the API call ends up-->
	<div class="d-flex justify-content-center"  style= "padding-top: 5%;">
		<h3 id="demo"></h3>
	</div>
</body>
</html>

