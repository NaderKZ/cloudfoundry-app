<!-- This is a smiple application that where a user can click a button and get a random Chuck Norris joke
-->
 <!DOCTYPE html>
 <html lang="en">
	
    <meta charset="utf-8"/>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
 	<head>
		<title>Chuck</title>
	</head>
	<body >
	
		<!-- This creates a header with text in it before the button -->	
		<div class="d-flex justify-content-center"  style= "padding-top: 8%;">
		<h1>
			Chuck Norris in development
		</h1>
		</div>
		
		<!-- This creates a button and sets the action taken when it is clicked -->	
		<div class="d-flex justify-content-center"  style= "padding-top: 2%;">
   	   	<button id="btn" type="button" class="btn btn-danger" onclick="myfunction()">
			Chuck Norris orders you to click me
		</button>
		</div>
		
		<!-- The following is the Javascript function responsible for making the API call and displaying the results on the application page-->
		<script>
			function myfunction() {
				var imageURL = "./images/chuck" + Math.floor(Math.random() * 5) + ".gif";
			
				document.getElementById("btn").innerText  = "Chuck Norris dares you to click me again";
				var xhttp = new XMLHttpRequest();
				xhttp.onreadystatechange = function() {
					if (this.readyState == 4 && this.status == 200) {
						var jsonobject = JSON.parse(this.responseText)
						document.getElementById("demo").innerHTML = '"'+jsonobject.value+'"';
						console.log(this.responseText)
						document.getElementById("chif").src= imageURL;
						
					}
				};
				xhttp.open("GET", "https://api.chucknorris.io/jokes/random?category=dev", true);
				xhttp.send();
			}
			
		</script>
		
		<!-- This is a placeholder where the answer from the API call ends up-->
		<div class="d-flex justify-content-center"  style= "padding-top: 5%;">
		<h3 id="demo"></h3>
		</div>
		
		<!-- This is a placeholder for Chuck Norris GIF -->
		<div class="d-flex justify-content-center"  style= "padding-top: 2%;">
			<img id="chif"  src="" class="rounded mx-auto d-block" style="max-width: 400px; max-height: 400px;" >
		</div>
 	</body>
 </html>